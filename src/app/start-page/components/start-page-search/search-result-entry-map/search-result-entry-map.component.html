@if (map.gb2Url) {
  <a
    #externalLink
    class="search-result-entry-map"
    tabIndex="-1"
    [href]="map.gb2Url | appendMapConfigurationToUrl: mapConfigState"
    rel="noopener noreferrer"
    target="_blank"
    [attr.aria-label]="'Karte ' + map.title + ' öffnen.' + toolTip"
    [matTooltip]="map.gb2Url ? toolTip : ''"
  >
    <ng-container *ngTemplateOutlet="linkContent"></ng-container>
  </a>
} @else {
  <a
    #internalLink
    class="search-result-entry-map"
    tabIndex="-1"
    [queryParams]="{initialMapIds: map.id}"
    [routerLink]="['/', mainPageEnum.Maps]"
    data-test-id="open-active-map"
    [attr.aria-label]="'Karte ' + map.title + ' öffnen.'"
  >
    <ng-container *ngTemplateOutlet="linkContent"></ng-container>
  </a>
}
<ng-template #linkContent>
  <img [alt]="map.title" [ngSrc]="map.icon" class="search-result-entry-map__image" width="44" height="44" />
  <p class="search-result-entry-map__title" showTooltipIfTruncated matTooltip="{{ map.title }}">{{ map.title }}</p>
  <mat-icon
    svgIcon="ktzh_arrow_right"
    class="search-result-entry-map__icon"
    [ngClass]="{'search-result-entry-map__icon--rotate': map.gb2Url}"
  ></mat-icon>
</ng-template>
<mat-divider></mat-divider>
