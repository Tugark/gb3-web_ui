<loading-and-process-bar [loadingState]="this.loadingState"></loading-and-process-bar>
<div *ngIf="datasetInformation" class="dataset-detail">
  <a [routerLink]="'/' + mainPageEnum.Data" class="dataset-detail__back-button" mat-button>
    <mat-icon [svgIcon]="'ktzh_arrow_left'"></mat-icon>
    Zur Übersicht
  </a>
  <h1 class="dataset-detail__title mat-headline-4">{{ datasetInformation.title }}</h1>
  <p class="dataset-detail__description mat-body">{{ datasetInformation.description }}</p>
  <keyword-list *ngIf="datasetInformation.keywords.length > 0" [keywords]="datasetInformation.keywords"></keyword-list>

  <div class="dataset-detail__data dataset-detail__data--horizontal">
    <div class="dataset-detail__data__item">
      <data-display-section
        [dataDisplayElements]="geodataContactElements"
        [sectionTitle]="'Verantwortlich Geodaten'"
      ></data-display-section>
    </div>
    <div class="dataset-detail__data__item">
      <data-display-section
        [dataDisplayElements]="metadataContactElements"
        [sectionTitle]="'Zuständig für Geometadaten'"
      ></data-display-section>
    </div>
  </div>
  <div class="dataset-detail__data">
    <div class="dataset-detail__data__item">
      <data-display-section [dataDisplayElements]="informationElements" [sectionTitle]="'Inhalt / Identifikation'"></data-display-section>
    </div>
  </div>
  <div class="dataset-detail__data">
    <div class="dataset-detail__data__item">
      <data-display-section [dataDisplayElements]="dataBasisElements" [sectionTitle]="'Datengrundlage'"></data-display-section>
    </div>
  </div>
  <div class="dataset-detail__data">
    <div class="dataset-detail__data__item">
      <data-display-section [dataDisplayElements]="dataProcurement" [sectionTitle]="'Datenbezug'"></data-display-section>
    </div>
  </div>
  <!-- todo: as soon as design is fixed, maybe refactor with generic data-display-section -->
  <div *ngIf="linkedData.maps.length > 0" class="dataset-detail__data">
    <h2>Karten mit diesem Datensatz</h2>
    <div class="dataset-detail__data__links">
      <descriptive-highlighted-link *ngFor="let map of linkedData.maps" [title]="map.name">
        <a [queryParams]="{initialMapIds: map.topic}" [routerLink]="'/' + mainPageEnum.Maps" class="linked-data-button" mat-button>
          <mat-icon [svgIcon]="'ktzh_arrow_right'"></mat-icon>
          Im GIS-Browser öffnen
        </a>
        <a [routerLink]="'/' + mainPageEnum.Data + '/' + dataCataloguePageEnum.Maps + '/' + map.guid" class="linked-data-button" mat-button>
          <mat-icon [svgIcon]="'ktzh_arrow_right'"></mat-icon>
          Zu Metadaten springen
        </a>
      </descriptive-highlighted-link>
    </div>
  </div>
  <div *ngIf="linkedData.services.length > 0" class="dataset-detail__data">
    <h2>Geodienste mit diesem Datensatz</h2>
    <div class="dataset-detail__data__links">
      <descriptive-highlighted-link *ngFor="let service of linkedData.services" [title]="service.name">
        <a [routerLink]="'/' + mainPageEnum.Data + '/' + dataCataloguePageEnum.Services + '/' + service.guid" mat-icon-button>
          <mat-icon svgIcon="ktzh_arrow_right"></mat-icon>
        </a>
      </descriptive-highlighted-link>
    </div>
  </div>
</div>
