<mat-drawer-container class="map-container" [ngClass]="'map-container__map-element--' + mapElementsVisibility">
  <mat-drawer mode="side" position="end" [opened]="currentSideDrawerContent !== 'none'" [ngSwitch]="currentSideDrawerContent">
    <print-dialog *ngSwitchCase="'print'"></print-dialog>
  </mat-drawer>

  <map></map>

  <map-controls class="map-container__map-controls map-container__map-element"></map-controls>
  <legend-overlay class="map-container__legend-overlay map-container__map-element" (printLegendEvent)="showPrint('legend')"></legend-overlay>
  <div class="map-container__all-map-items-container map-container__map-element">
    <div class="map-container__all-map-items-container__inner-container">
      <active-map-items
        class="map-container__all-map-items-container__inner-container__active-map-items"
        [ngClass]="{'map-container__all-map-items-container__inner-container__active-map-items--maximized': isMapDataCatalogueMinimized}"
        typedTourAnchor="map.active.map.items"
      ></active-map-items>
      <span class="map-container__all-map-items-container__inner-container__divider"></span>
      <map-data-catalogue
        class="map-container__all-map-items-container__inner-container__map-data-catalogue"
        [ngClass]="{'map-container__all-map-items-container__inner-container__map-data-catalogue--minimized': isMapDataCatalogueMinimized}"
        typedTourAnchor="map.catalogue"
        (changeIsMinimizedEvent)="setIsMapDataCatalogueMinimized($event)"
      ></map-data-catalogue>
    </div>
  </div>
  <button mat-flat-button (click)="toggleLegend()" [disabled]="activeMapItems.length === 0" class="map-container__legend-button map-container__map-element">
    <mat-icon>map</mat-icon>
    Legende
  </button>
  <map-attribute-filter class="map-container__map-attribute-filter map-container__map-element"></map-attribute-filter>
  <feature-info-overlay
    class="map-container__feature-info-overlay map-container__map-element"
    (printFeatureInfoEvent)="showPrint('featureInfo')"
  ></feature-info-overlay>
  <search-window class="map-container__search-window map-container__map-element"></search-window>
  <map-tools class="map-container__map-tools map-container__map-element"></map-tools>
</mat-drawer-container>
<print-overlay></print-overlay>
<onboarding-guide [introductionImage]="onboardingGuideImage"></onboarding-guide>
<center-anchor anchorName="map.start.tour"></center-anchor>
<center-anchor anchorName="map.feature.info"></center-anchor>
<center-anchor anchorName="map.end.tour"></center-anchor>
