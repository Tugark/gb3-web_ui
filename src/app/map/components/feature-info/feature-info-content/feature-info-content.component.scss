@use 'mixins/helpers.mixin' as mixins;
@use 'variables/ktzh-design-variables' as ktzh-variables;

/**
  The following variables are used for adding the borders on highlight. We cannot use box-sizing: border-box in <td>
   because tables do not adhere to these standards. That's why we "fake" borders by adding a negative, inset border on all requested sides.
 */
$border-size: 2px;
$right-border: inset calc(-1 * $border-size) 0 0 0 ktzh-variables.$zh-active-blue;
$left-border: inset $border-size 0 0 0 ktzh-variables.$zh-active-blue;
$bottom-border: inset 0 calc(-1 * $border-size) 0 0 ktzh-variables.$zh-active-blue;
// The same holds true for our right hand side border in the first column.
$fixed-border: inset calc(-1 * $border-size) 0 0 0 ktzh-variables.$zh-black100;

.feature-info-content {
  width: 100%;
  overflow: auto;
  padding-top: 20px;

  .feature-info-content__table {
    width: 100%;
    text-align: left;
    border-collapse: collapse;
    font-size: small;

    & .feature-info-content__table__row {
      vertical-align: top;

      // alternate row color with grey for odd rows
      &:nth-child(odd) {
        .feature-info-content__table__row__column {
          background-color: ktzh-variables.$zh-black20;
        }
      }

      // override the upper left cell to be white (as per the design)
      &:first-child > .feature-info-content__table__row__column--header:first-child {
        background-color: ktzh-variables.$zh-white;
      }

      & .feature-info-content__table__row__column {
        background-color: ktzh-variables.$zh-white;
        padding: 7px 8px;

        &--header {
          // make the left-most column headers sticky and add a right border
          &:nth-of-type(1) {
            box-shadow: $fixed-border;
            min-width: 130px;
            width: 130px;
            position: sticky;
            left: 0;
          }

          // make all other headers (i.e. top row minus left-most) fixed width for fixed column width
          &:not(&:nth-of-type(1)) {
            min-width: 200px;
          }
        }

        // This class is added automatically by Angular when hovered
        &--highlighted {
          -webkit-box-shadow: $left-border, $right-border;
          box-shadow: $left-border, $right-border;
        }
      }

      // Add background on col header on hover
      &:first-of-type {
        & .feature-info-content__table__row__column--highlighted {
          background-color: ktzh-variables.$zh-active-blue !important;
        }
      }

      // Add border at the bottom for last column cell
      &:last-of-type {
        & .feature-info-content__table__row__column--highlighted {
          -webkit-box-shadow: $bottom-border, $left-border, $right-border;
          box-shadow: $bottom-border, $left-border, $right-border;
        }
      }
    }
  }
}
