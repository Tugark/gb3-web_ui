<mat-toolbar class="navbar" color="primary">
  <span class="navbar__item">
    <img
      [ngStyle]="{display: !this.isSimplifiedPage ? 'none' : 'inline'}"
      alt="KTZH Logo"
      class="navbar__logo"
      src="assets/images/ktzh_inverted.svg"
    />
    GIS-Browser Zürich
  </span>
  <span class="navbar__spacer"></span>

  <a
    [queryParams]="{}"
    [routerLinkActiveOptions]="{exact: true}"
    class="navbar__item"
    mat-button
    [routerLink]="[mainPageEnum.Start]"
    routerLinkActive="navbar__item--active"
    >Übersicht</a
  >
  <a class="navbar__item" mat-button [routerLink]="[mainPageEnum.Maps]" routerLinkActive="navbar__item--active">GIS-Browser</a>
  <a class="navbar__item" mat-button [routerLink]="[mainPageEnum.Data]" routerLinkActive="navbar__item--active">Datenkatalog</a>
  <a class="navbar__item" mat-button [routerLink]="[mainPageEnum.Support]" routerLinkActive="navbar__item--active">Hilfe & Support</a>
  <a class="navbar__item" href="https://geodatenshop.zh.ch" mat-button target="_blank" rel="noopener noreferrer">
    <mat-icon>launch</mat-icon>
    Geodatenshop
  </a>
  <mat-divider class="navbar__divider" vertical></mat-divider>
  <a (click)="this.startLogin()" *ngIf="!this.isAuthenticated; else userProfile" class="navbar__item" mat-button>Login</a>
  <ng-template #userProfile>
    <a [matMenuTriggerFor]="userMenu" class="navbar__item" *ngIf="this.screenSize === 'regular'; else reducedNavbar" mat-button>
      <mat-icon svgIcon="ktzh_user"></mat-icon>
      {{ this.userName }}
    </a>
    <ng-template #reducedNavbar>
      <a [matMenuTriggerFor]="userMenu" class="navbar__item" mat-button #trigger="matMenuTrigger">
        <mat-icon svgIcon="ktzh_user"></mat-icon>
        <mat-icon [fontIcon]="trigger.menuOpen ? 'arrow_drop_up' : 'arrow_drop_down'"></mat-icon>
      </a>
    </ng-template>
    <mat-menu #userMenu="matMenu">
      <button (click)="this.logout()" mat-menu-item>
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
  </ng-template>
  <div class="navbar__underline-container" *ngIf="!isSimplifiedPage">
    <div class="navbar__underline-container__content-container">
      <span></span>
      <span class="navbar__underline"></span>
      <span class="navbar__underline"></span>
    </div>
    <span class="navbar__underline" [ngStyle]="{width: scrollbarWidth + 'px'}"></span>
  </div>
</mat-toolbar>
