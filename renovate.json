{
  "extends": ["local>Renovate_Bot/renovate-presets"],
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "assignees": ["lukas.merz@ebp.ch", "sebastian.wendland@ebp.ch"],
  "reviewers": ["lukas.merz@ebp.ch", "sebastian.wendland@ebp.ch"],
  "packageRules": [
    {
      "matchManagers": ["npm"],
      "matchPackageNames": ["prettier"],
      "description": "Automatically re-formats all files in the project using the new prettier version",
      "postUpgradeTasks": {
        "commands": [
          "cd $(find . -maxdepth 2 -name package.json -printf '%h\n' | head -1)",
          "npm ci --ignore-scripts",
          "npm run format-all",
          "rm -rf node_modules"
        ],
        "fileFilters": ["**/*"]
      }
    },
    {
      "matchManagers": ["npm"],
      "matchPackageNames": ["@types/node"],
      "allowedVersions": "<20"
    },
    {
      "matchManagers": ["dockerfile"],
      "matchDepNames": ["node"],
      "allowedVersions": "<20"
    }
  ]
}
